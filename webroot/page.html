<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Don't Drop - Reddit Edition</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="fixes.css" />
  </head>
  <body>
    <div id="gameWebView" class="game-container">
      <!-- Menu Screen -->
      <div id="menu-screen" class="screen active">
        <div class="menu-background">
          <!-- Animated decorative elements -->
          <div class="floating-ball"></div>
          <div class="floating-ball"></div>
          <div class="floating-ball"></div>
          <div class="floating-paddle"></div>
          <div class="floating-paddle"></div>
          <div class="table-lines">
            <div class="table-center-line"></div>
            <div class="table-net"></div>
          </div>
          <!-- Reddit-themed decorations -->
          <div class="snoo-decoration snoo-left"></div>
          <div class="snoo-decoration snoo-right"></div>
        </div>
        <div class="menu-content">
          <div class="title-container">
            <div class="reddit-logo">
              <div class="reddit-icon"></div>
            </div>
            <div class="title-ping-pong">
              <div class="ball-decoration"></div>
              <h1 class="game-title">Don't Drop</h1>
              <div class="paddle-decoration"></div>
            </div>
            <div class="title-underline"></div>
            <p class="game-subtitle">Master the Paddle, Own the Table</p>
          </div>
          <nav class="menu-nav">
            <button id="start-btn" class="menu-button primary">
              <span class="button-content">
                <span class="button-icon play"></span>
                Play Game
              </span>
            </button>
            <button id="weapons-btn" class="menu-button">
              <span class="button-content">
                <span class="button-icon gear"></span>
                Weapons
              </span>
            </button>
            <button id="leaderboard-btn" class="menu-button">
              <span class="button-content">
                <span class="button-icon trophy"></span>
                Leaderboard
              </span>
            </button>
            <button id="how-to-play-btn" class="menu-button">
              <span class="button-content">
                <span class="button-icon help"></span>
                How to Play
              </span>
            </button>
            <button id="badges-btn" class="menu-button">
              <span class="button-content">
                <span class="button-icon trophy"></span>
                Achievements
              </span>
            </button>
          </nav>
        </div>
      </div>

      <!-- Paddle Selection Screen -->
      <div id="paddle-selection-screen" class="screen">
        <div class="screen-header">
          <h2>Choose Your Paddle</h2>
          <button id="back-from-weapons-btn" class="back-button">
            <span class="button-icon back"></span>
            Back
          </button>
        </div>
        <div class="weapon-selection-content">
          <div class="weapon-section">
            <div id="paddle-selection" class="weapon-grid">
              <!-- Paddle options will be populated by JavaScript -->
            </div>
          </div>
          <button id="next-to-ball-btn" class="menu-button primary">
            <span class="button-content">
              Next
              <span class="button-icon play"></span>
            </span>
          </button>
        </div>
      </div>

      <!-- Ball Selection Screen -->
      <div id="ball-selection-screen" class="screen">
        <div class="screen-header">
          <h2>Choose Your Ball</h2>
          <button id="back-to-paddle-btn" class="back-button">
            <span class="button-icon back"></span>
            Back
          </button>
        </div>
        <div class="weapon-selection-content">
          <div class="weapon-section">
            <div id="ball-selection" class="weapon-grid">
              <!-- Ball options will be populated by JavaScript -->
            </div>
          </div>
          <button id="start-game-with-weapons-btn" class="menu-button primary">
            <span class="button-content">
              <span class="button-icon play"></span>
              Start Game
            </span>
          </button>
        </div>
      </div>

      <!-- Game Screen -->
      <div id="game-screen" class="screen">
        <div class="game-ui">
          <div class="score-container">
            <div class="score-box">
              <span class="score-label">Score</span>
              <span id="score" class="score-value">0</span>
            </div>
            <div class="score-box">
              <span class="score-label">High Score</span>
              <span id="highScore" class="score-value">0</span>
            </div>
          </div>
        </div>
        <div id="gameArea">
          <div id="ball"></div>
          <div id="instructions" class="instructions pulse">
            Click or tap to start!
          </div>
          <div id="game-over-container"></div> <!-- Container for game over overlay -->
        </div>
      </div>

      <!-- Leaderboard Screen -->
      <div id="leaderboard-screen" class="screen leaderboard-screen">
        <div class="screen-header">
          <h2>Reddit Leaderboard</h2>
          <button id="back-from-leaderboard-btn" class="back-button">
            <span class="button-icon back"></span>
            Back
          </button>
        </div>
        <div class="leaderboard-container">
          <div class="leaderboard-header">
            <div class="rank-col">Rank</div>
            <div class="name-col">Redditor</div>
            <div class="score-col">Score</div>
            <div class="date-col">Date</div>
          </div>
          <div id="leaderboard-entries" class="leaderboard-entries">
            <!-- Loading state will be replaced by JavaScript -->
            <div class="loading-spinner">
              <div class="spinner"></div>
              <p>Loading leaderboard...</p>
            </div>
          </div>
        </div>
        <div class="leaderboard-footer">
          <p>Can you make it to the top? Play now and set a new high score!</p>
          <button id="play-from-leaderboard-btn" class="menu-button primary">
            <span class="button-content">
              <span class="button-icon play"></span>
              Play Game
            </span>
          </button>
        </div>
      </div>

      <!-- Achievements Screen -->
      <div id="badges-screen" class="screen">
        <div class="screen-header">
          <h2>Reddit Achievements</h2>
          <button id="back-from-badges-btn" class="back-button">
            <span class="button-icon back"></span>
            Back
          </button>
        </div>
        <div class="achievements-grid">
          <div class="achievement-card">
            <div class="achievement-icon beginner"></div>
            <h3>Ping Pong Beginner</h3>
            <p>Score 10 points</p>
            <div class="achievement-status" data-achievement="beginner">Locked</div>
          </div>
          <div class="achievement-card">
            <div class="achievement-icon novice"></div>
            <h3>Table Tennis Novice</h3>
            <p>Score 50 points</p>
            <div class="achievement-status" data-achievement="novice">Locked</div>
          </div>
          <div class="achievement-card">
            <div class="achievement-icon master"></div>
            <h3>Paddle Master</h3>
            <p>Score 100 points</p>
            <div class="achievement-status" data-achievement="master">Locked</div>
          </div>
          <div class="achievement-card">
            <div class="achievement-icon legend"></div>
            <h3>Reddit Legend</h3>
            <p>Score 250 points</p>
            <div class="achievement-status" data-achievement="legend">Locked</div>
          </div>
          <div class="achievement-card">
            <div class="achievement-icon first-bounce"></div>
            <h3>First Bounce</h3>
            <p>Get your first bounce</p>
            <div class="achievement-status" data-achievement="first-bounce">Locked</div>
          </div>
          <div class="achievement-card">
            <div class="achievement-icon quick-reflexes"></div>
            <h3>Quick Reflexes</h3>
            <p>Save a high-speed ball</p>
            <div class="achievement-status" data-achievement="quick-reflexes">Locked</div>
          </div>
        </div>
      </div>

      <!-- Award Template (Hidden) -->
      <div id="award-template" class="award-popup" style="display: none;">
        <div class="award-icon"></div>
        <div class="award-text"></div>
      </div>
      
      <!-- How to Play Modal -->
      <div id="how-to-play-modal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>How to Play</h2>
            <button class="modal-close">&times;</button>
          </div>
          <div class="modal-body">
            <div class="instruction-card">
              <div class="instruction-icon move"></div>
              <h3>Move The Paddle</h3>
              <p>Move your mouse or finger to control the paddle. Catch the ball before it falls!</p>
            </div>
            <div class="instruction-card">
              <div class="instruction-icon bounce"></div>
              <h3>Bounce The Ball</h3>
              <p>Keep the ball bouncing as long as possible. The longer you play, the faster it gets!</p>
            </div>
            <div class="instruction-card">
              <div class="instruction-icon score"></div>
              <h3>Score Points</h3>
              <p>Build up combos for higher scores. Wall hits and skillshots give you bonus points!</p>
            </div>
            <div class="instruction-card">
              <div class="instruction-icon weapon"></div>
              <h3>Choose Your Weapons</h3>
              <p>Unlock new paddles and balls as you earn points. Each weapon has unique attributes that affect gameplay!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>